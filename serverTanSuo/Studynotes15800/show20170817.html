<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>第十四日学习笔记</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/nprogress.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="apple-touch-icon-precomposed" href="images/icon.png">
    <link rel="shortcut icon" href="images/favicon.ico">
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/nprogress.js"></script>
    <script src="js/jquery.lazyload.min.js"></script>
    <!--[if gte IE 9]>
    <script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="js/html5shiv.min.js" type="text/javascript"></script>
    <script src="js/respond.min.js" type="text/javascript"></script>
    <script src="js/selectivizr-min.js" type="text/javascript"></script>
    <![endif]-->
    <!--[if lt IE 9]>
    <script>window.location.href = 'upgrade-browser.html';</script>
    <![endif]-->
</head>
<body class="user-select single" onload="getNowFormatDate()">
<header class="header">
    <nav class="navbar navbar-default" id="navbar">
        <div class="container">
            <div class="header-topbar hidden-xs link-border">
                <ul class="site-nav topmenu">
                    <li><a href="#">标签云</a></li>
                    <li><a href="#" rel="nofollow">读者墙</a></li>
                    <li><a href="#" title="RSS订阅">
                        <i class="fa fa-rss">
                        </i> RSS订阅
                    </a></li>
                </ul>
                勤记录 懂分享
            </div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#header-navbar" aria-expanded="false"><span class="sr-only"></span> <span
                        class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button>
                <h1 class="logo hvr-bounce-in"><a href="index.html" title="酬勤学习笔记"><img
                        src="images/201610171329086541.png"
                        alt="酬勤学习笔记"></a></h1>
            </div>
            <div class="collapse navbar-collapse" id="header-navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li><a data-cont="酬勤学习笔记" title="酬勤学习笔记" href="index.html">首页</a></li>
                    <li><a data-cont="列表页" title="列表页" href="list.html">列表页</a></li>
                    <li><a data-cont="IT技术笔记" title="IT技术笔记" href="http://gwhcool.cn:8080">IT技术笔记</a></li>
                    <li><a data-cont="源码分享" title="源码分享" href="https://github.com/GuoWenhao1996">源码分享</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<section class="container">
    <div class="content-wrap">
        <div class="content">
            <header class="article-header">
                <h1 class="article-title"><a href="#" title="java培训学习路线">java初级学习-第14日：子查询在DML语句中的应用、索引、视图、触发器、存储过程、函数</a></h1>
                <div class="article-meta"> <span class="item article-meta-time">
	  <time class="time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="发表时间：2017-08-17"><i
              class="glyphicon glyphicon-time"></i> 2017-08-17
      </time>
	  </span> <span class="item article-meta-source" data-toggle="tooltip" data-placement="bottom" title=""
                    data-original-title="来源：酬勤学习笔记"><i class="glyphicon glyphicon-globe"></i> 酬勤学习笔记</span> <span
                        class="item article-meta-category" data-toggle="tooltip" data-placement="bottom" title=""
                        data-original-title="java初级学习-第14日：子查询在DML语句中的应用、索引、视图、触发器、存储过程、函数"><i class="glyphicon glyphicon-list"></i> <a
                        href="#"
                        title="java初级学习-第14日：子查询在DML语句中的应用、索引、视图、触发器、存储过程、函数">java初级学习-第14日：子查询在DML语句中的应用、索引、视图、触发器、存储过程、函数</a></span>
                    <span class="item article-meta-views" data-toggle="tooltip" data-placement="bottom" title=""
                          data-original-title="浏览量：127"><i class="glyphicon glyphicon-eye-open"></i> 127</span></div>
            </header>
            <article class="article-content">
                <p><img data-original="images/201610181557196870.jpg" src="images/201610181557196870.jpg" alt=""/></p>
                <p>
                    时间：2017-08-17 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;地点：中软开发室<br>
                    ===============================================<br>
                    上午：<br>
                    ===============================================<br>
                    1、子查询在DML语句中的应用<br>
                    	where子句里不能使用聚合函数<br>
                    	聚合函数要用在having子句里<br>
                    	delete from score where grade >(select grade from score where name='张三');<br>
                    	update employee set salary =salary +100 where salary<(select avg(salart) from emloyee);//不能在一个子句里边查边改<br>
                    	insert into student_1 (stname) select sname from student where sid>=2;<br>
                    	语法：insert into 表2 (列1,列2,...) select (列1,列2,...) from 表1 where 条件;<br>
<br>
                    2、索引<br>
                    	☆什么是索引？<br>
                    		类似于查字典，查偏旁，找到页数。<br>
                    		可以极大的提高查询效率。<br>
<br>
                    	☆创建索引：<br>
                    		primary key 和 unique约束会自动创建索引<br>
                    		建表时：<br>
                    			index(address)	普通索引<br>
                    			unique index(address)<br>
                    		建表后：<br>
                    			alert table test add index(address);<br>
                    			alert table test add unique ndex(address);<br>
                    	☆删除索引：<br>
                    		alter table test drop index 索引名;//索引名默认为列名<br>
<br>
                    	☆复合索引<br>
                    		index(address,telephone)<br>
<br>
                    	☆为什么使用索引？<br>
                    		加快查询效率，但是会降低增删改的效率。<br>
                    		所以索引并不是越多越好。<br>
                    		一般在需要经常查询，很少修改的列上添加索引。<br>
<br>
                    	☆是不是所有的条件筛选都会用到索引？<br>
                    		=、>、<、>=、<=、!=都会;<br>
                    		is null、 is not null都会;<br>
                    		between and会使用；<br>
                    		like 里只有字符开头的模糊匹配才会使用到索引：如'a__'、'a%';<br>
                    		in 或者not in不会用到索引;<br>
<br>
                    ===============================================<br>
                    下午：<br>
                    ===============================================<br>
                    3、视图、触发器、存储过程、函数<br>
                    	☆什么是视图(view)？<br>
                    		保存的是查询语句的定义<br>
                    		保存的是一条sql语句而不是查出来的数据<br>
                    		create view 视图名 as 查询语句<br>
                    		视图的使用可以当做表的使用（可以增删改查，会对原表造成影响）<br>
<br>
                    	☆什么是存储过程：<br>
                    		存储过程是一个完整的语句块<br>
                    		里面可以同时执行多条sql语句<br>
                    		或者使用存储过程执行一个完整的业务逻辑<br>
<br>
                    	☆存储过程的优势：<br>
                    		sql语句		先编译后执行<br>
                    		存储过程	只需要编译一次，以后执行就不需要编译了<br>
                    		减少了频繁连接数据库的开销<br>
                    		封装了sql<br>
                    		便于操纵表，对表进行业务逻辑处理<br>
<br>
                    	☆存储过程语法：<br>
                    		create procedure 过程名称(参数)<br>
                    		begin<br>
                    			语句1;<br>
                    			语句2;<br>
                    			语句3;<br>
                    			...;<br>
                    		end;<br>
<br>
                    		参数的声明：[in|out|inout] 参数名称1 数据类型,[in|out|inout] 参数名称2 数据类型,[in|out|inout] 参数名称3 数据类型<br>
<br>
                    	☆MySQL 变量：<br>
                    		用户变量：<br>
                    			set @变量名 = 值;	定义<br>
                    			select @变量名;		显示<br>
<br>
                    		局部变量：<br>
                    			存储过程中的变量<br>
                    			declare 变量名 数据类型 default 初始值;	定义赋初值<br>
                    			set 变量名 = 值;			改值<br>
                    			select 变量名;				显示<br>
<br>
                    	☆Delimiter：<br>
                    		Delimiter !!    表示以!!为结束符，此时;不会再结束语句了<br>
<br>
                    	☆循环：<br>
                    		loop<br>
                    		while<br>
                    		repeat<br>
<br>
                    	☆函数定义：<br>
                    		create function 函数名称(参数) returns 类型<br>
                    		begin<br>
                    			一定要有return语句<br>
                    		end;<br>
<br>
                    	☆函数使用：<br>
                    		作为表达式的一部分调用<br>
                    		在select语句中调用，作为一列<br>
<br>
                    	☆触发器定义：<br>
                    		行级触发器：<br>
                    		create trigger 触发器名称<br>
                    		before|after insert|delete|update<br>
                    		on 表名<br>
                    		for each row<br>
                    		begin<br>
                    			new.<br>
                    			old.<br>
                    		end;<br>
<br>
                    	☆对象的查询：<br>
                    		查看存储过程：<br>
                    			show procedure status where db='数据库名';<br>
                    		查看函数：<br>
                    			show function status where db='数据库名';<br>
                    		查看触发器：<br>
                    			show triggers;<br>
<br>
                    ===============================================<br>
                    晚上：<br>
                    ===============================================<br>
                    explain<br>
                    索引<br>
                    视图<br>
                    存储过程和事务<br>
                    delimiter<br>
<br>
            </article>
            <div class="relates">
                <div class="title">
                    <h3>相关推荐</h3>
                </div>
                <ul>
                  <li><a href="show20170815.html" title="">java初级学习-第12日：MySQL初步、管理数据库和表、保证数据完整性、DML</a></li>
                  <li><a href="show20170816.html" title="">java初级学习-第13日：简单查询、分组查询、组合查询、联接查询</a></li>
                  <li><a href="show20170817.html" title="">java初级学习-第14日：子查询在DML语句中的应用、索引、视图、触发器、存储过程、函数</a></li>
              </ul>
            </div>
        </div>
    </div>
    <aside class="sidebar">
        <div class="fixed">
            <div class="widget widget-tabs">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#notice" aria-controls="notice" role="tab"
                                                              data-toggle="tab" draggable="false">统计信息</a></li>
                    <li role="presentation"><a href="#contact" aria-controls="contact" role="tab" data-toggle="tab"
                                               draggable="false">联系站长</a></li>
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane contact active" id="notice">
                        <h2>日志总数:
                            <span id="articlecount">allarticle</span> 篇</h2>
                        <h2>网站运行:
                            <span id="sitetime">alldate</span> 天</h2>
                    </div>
                    <div role="tabpanel" class="tab-pane contact" id="contact">
                        <h2>QQ:
                            <a href="/#" target="_blank" rel="nofollow" data-toggle="tooltip" data-placement="bottom"
                               title="" data-original-title="QQ:1842297753">1842297753</a></h2>
                        <h2>Email:
                            <a href="mailto:1842297753@qq.com" target="_blank" data-toggle="tooltip" rel="nofollow"
                               data-placement="bottom"
                               title="" data-original-title="Email:1842297753@qq.com">1842297753@qq.com</a></h2>
                    </div>
                </div>
            </div>
            <div class="widget widget_sentence">
                <h3>友情链接</h3>
                <div class="widget-sentence-link">
                    <a href="http://gwhcool.cn:8080/" title="个人主页" target="_blank">个人主页</a>&nbsp;&nbsp;&nbsp;
                </div>
                <div class="widget-sentence-link">
                    <a href="https://github.com/GuoWenhao1996" title="follow me" target="_blank">GitHub</a>&nbsp;&nbsp;&nbsp;
                </div>
            </div>
        </div>
    </aside>
</section>
<footer class="footer">
    <ul class="icons">
        <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
        <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
        <li><a href="https://github.com/GuoWenhao1996" class="icon fa-github"><span class="label">Github</span></a></li>
    </ul>
    <br>
    <div class="container">Template reference from <a target="_blank" href="http://sc.chinaz.com/moban/">ChinaZ</a>
        extremely grateful!<br>
        Copyright &copy; 2017.<a target="_blank" href="http://gwhcool.cn:8080">gwhcool</a> All rights reserved.
    </div>
    <div id="gotop"><a class="gotop"></a></div>
</footer>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.ias.js"></script>
<script src="js/scripts.js"></script>
</body>
</html>
